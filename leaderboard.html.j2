<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaderboard - TTMC Quiz</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="modal.css">
</head>
<body>
    <main class="container">
        <h1>üèÜ Leaderboard</h1>

        <!-- Section Quiz en cours -->
        <div id="current-quiz-container" style="background: #f8f9fa; border: 2px solid #007bff; border-radius: 8px; padding: 20px; margin-bottom: 30px;">
            <h2 id="current-quiz-title">‚ÑπÔ∏è Aucun quiz en cours</h2>
            <div id="current-quiz-content">
                <p>Aucun quiz n'est actuellement en cours.</p>
                <button onclick="window.location.href='index.html'" style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                    üéÆ Commencer un nouveau quiz
                </button>
            </div>

            <template id="no-quiz-in-progress-template">
                <p>Aucun quiz n'est actuellement en cours.</p>
                <button onclick="window.location.href='index.html'" style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                    üéÆ Commencer un nouveau quiz
                </button>
            </template>


        </div>

        <!-- Section Leaderboard -->
        <div class="leaderboard-section">
            <h2>ü•á Classement</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Joueur</th>
                        <th scope="col">Score</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-list">
                    <!-- Les scores seront ajout√©s ici par JavaScript -->
                </tbody>
            </table>

            <template id="leaderboard-row-template">
                <tr>
                    <th scope="row"></th>
                    <td></td>
                    <td></td>
                </tr>
            </template>
        </div>

        <div class="navigation">
            <a href="index.html" class="btn btn-primary">üè† Retour √† l'accueil</a>
            <button id="clear-storage-btn" class="button secondary">‚ò†Ô∏è Tout remettre √† z√©ro ‚ò†Ô∏è</button>
        </div>
    </main>

    <template id="quiz-in-progress-template">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <p><strong>Joueur :</strong> <span class="player-name-display"></span></p>
                <p><strong>Score actuel :</strong> <span class="current-score-display"></span> points</p>
                <p><strong>Modules compl√©t√©s :</strong> <span class="modules-progress"></span></p>
            </div>
            <div>
                <p><strong>Modules restants :</strong></p>
                <ul class="remaining-modules-list" style="margin: 5px 0; padding-left: 20px;">
                </ul>
            </div>
        </div>
        <div style="margin-top: 15px;">
            <button class="force-finish-btn"
                    style="background: #dc3545; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-right: 10px; display: none;">
                ‚ö†Ô∏è Terminer le quiz (0 pts pour les modules restants)
            </button>
            <button class="finalize-btn"
                    style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-right: 10px; display: none;">
                ‚úÖ Finaliser le quiz termin√©
            </button>
            <button class="continue-quiz-btn"
                    style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                ‚ñ∂Ô∏è Continuer le quiz
            </button>
        </div>
    </template>

    <dialog id="custom-dialog">
        <p id="dialog-message"></p>
        <div id="dialog-confirm-buttons" style="display: none; justify-content: space-around;">
            <button id="confirm-ok-btn">OK</button>
            <button id="confirm-cancel-btn">Cancel</button>
        </div>
        <button id="close-dialog-btn" style="display: none;">OK</button>
    </dialog>

    <script src="script.js" defer></script>